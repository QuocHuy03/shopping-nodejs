<%- include('lib/header.ejs') %> <%- include('lib/sidebar.ejs') %>

<div class="app-main">
  <%- include('lib/navbar.ejs') %>
  <div class="main-body login-page register-page" style="padding: 56px 0px">
    <div class="container">
      <div class="main-grid row">
        <div class="main-content col-md-12">
          <div class="header-lined text-center m-b-24">
            <h1>Đăng ký</h1>
          </div>

          <script>
            window.langPasswordStrength = "Mức độ an toàn của Mật khẩu";
            window.langPasswordWeak = "Yếu";
            window.langPasswordModerate = "Trung bình";
            window.langPasswordStrong = "Mạnh";
            window.langPasswordTooShort = "at least 5 characters";
          </script>

          <div class="logincontainer register social-wide" id="registration">
            <div class="logincontainer-body">
              <form
                method="post"
                class=""
                action="/create-user"
                role="form"
                name="orderfrm"
                id="frmCheckout"
              >
                <div id="containerNewUserSignup" class="section">
                  <div class="section">
                    <div id="providerLinkingMessages" class="hidden">
                      <p class="providerLinkingMsg-preLink-init_failed">
                        <span class="provider-name"></span> is unavailable at
                        this time. Please try again later.
                      </p>
                      <p class="providerLinkingMsg-preLink-connect_error">
                        <strong>Error</strong> We were unable to connect your
                        account. Please contact your system administrator.
                      </p>
                      <p class="providerLinkingMsg-preLink-complete_sign_in">
                        Please complete sign in with your chosen service
                        provider.
                      </p>
                      <p class="providerLinkingMsg-preLink-2fa_needed">
                        Automatic sign-in successful! Redirecting...
                      </p>
                      <p class="providerLinkingMsg-preLink-linking_complete">
                        <strong>Success!</strong> Your account is now linked
                        with your :displayName account.
                      </p>
                      <p
                        class="providerLinkingMsg-preLink-login_to_link-signin-required"
                      >
                        <strong>Link Initiated!</strong> Please complete sign in
                        to associate this service with your existing account.
                        You will only have to do this once.
                      </p>
                      <p
                        class="providerLinkingMsg-preLink-login_to_link-registration-required"
                      >
                        <strong>Link Initiated!</strong> Please complete the
                        registration form below.
                      </p>
                      <p class="providerLinkingMsg-preLink-checkout-new">
                        <strong>Link Initiated!</strong> Please complete your
                        new account information.
                      </p>
                      <p class="providerLinkingMsg-preLink-other_user_exists">
                        <strong>Error</strong> This account is already connected
                        to an existing account with us. Please choose a
                        different account at the third party authentication
                        provider.
                      </p>
                      <p class="providerLinkingMsg-preLink-already_linked">
                        <strong>Error</strong> This account is already connected
                        to your account with us. Please choose a different
                        account at the third party authentication provider.
                      </p>
                      <p class="providerLinkingMsg-preLink-default">
                        <strong>Error</strong> We were unable to connect your
                        account. Please contact your system administrator.
                      </p>
                    </div>

                    <div class="text-light text-center">
                      <span>Use social account (optional)</span>
                    </div>

                    <div
                      class="providerPreLinking"
                      data-link-context="registration"
                      data-hide-on-prelink="1"
                      data-disable-on-prelink="0"
                    >
                      <div class="social-signin-btns">
                
             
                        <button
                          id="btnGoogleSignin1"
                          class="btn btn-social btn-google"
                          type="button"
                        >
                          <img
                            src="https://client.cmsnt.co/assets/img/auth/google_icon.png"
                            width="17px"
                            height="17px"
                            alt="googleIcon"
                          />
                          Sign Up with Google
                        </button>
                      </div>
                    </div>
                    <div class="providerLinkingFeedback"></div>

                    <div
                      class="text-lighter text-center text-small text-divider"
                    >
                      <span>or fill the form below</span>
                    </div>
                  </div>
                  <div class="section">
                    <h3>Thông tin cá nhân</h3>
                    <div class="row">
                      <div class="col-sm-6">
                        <div class="form-group">
                          <label for="inputFirstName"> Tên Đăng Nhập </label>
                          <input
                            type="text"
                            name="username"
                            maxlength="50"
                            id="inputFirstName"
                            class="form-control"
                            placeholder=""
                            value=""
                            autofocus
                          />
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="form-group">
                          <label for="inputLastName"> Địa Chỉ Đang Sống </label>
                          <input
                            type="text"
                            name="address"
                            maxlength="200"
                            id="inputLastName"
                            class="form-control"
                            placeholder=""
                            value=""
                          />
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="form-group">
                          <label for="inputEmail"> Địa chỉ Email </label>
                          <input
                            type="email"
                            name="email"
                            id="inputEmail"
                            class="form-control"
                            placeholder=""
                            value=""
                          />
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="form-group">
                          <label for="inputPhone"> Số Điện Thoại </label>
                          <input
                            type="number"
                            name="mobile"
                            id="inputPhone"
                            class="form-control"
                            placeholder=""
                            value=""
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="containerNewUserSecurity" class="section">
                  <h3>Bảo mật tài khoản</h3>
                  <div id="containerPassword" class="row">
                    <div
                      id="passwdFeedback"
                      style="display: none"
                      class="alert alert-info text-center col-sm-12"
                    ></div>
                    <div class="col-sm-6">
                      <div class="form-group has-feedback" id="newPassword1">
                        <label for="inputNewPassword1"> Mật Khẩu </label>
                        <div class="input-password-strenght">
                          <input
                            type="password"
                            name="password"
                            id="inputNewPassword1"
                            data-error-threshold="0"
                            data-warning-threshold="0"
                            class="form-control"
                            placeholder=""
                            autocomplete="off"
                          />
                          <span class="text-small text-lighter"
                            ><span id="passwordStrengthTextLabel" style="padding-right: 20px;"
                              >at least 5 characters</span
                            ></span
                          >
                        </div>

                        <div class="password-content">
                          <button
                            type="button"
                            class="btn btn-default btn-sm generate-password"
                            data-targetfields="inputNewPassword1,inputNewPassword2"
                          >
                          <i class="fas fa-sync-alt" style="margin-right:5px"></i>Tự động tạo mật khẩu
                          </button>
                          <div class="progress" id="passwordStrengthBar">
                            <div
                              class="progress-bar"
                              role="progressbar"
                              aria-valuenow="0"
                              aria-valuemin="0"
                              aria-valuemax="100"
                            >
                              <span class="sr-only"
                                >New Password Rating: 0%</span
                              >
                            </div>
                          </div>
                        </div>

                        <script type="text/javascript">
                          jQuery("#inputNewPassword1").keyup(function () {
                            if (
                              typeof window.langPasswordWeak === "undefined"
                            ) {
                              window.langPasswordWeak = "Weak";
                            }
                            if (
                              typeof window.langPasswordModerate === "undefined"
                            ) {
                              window.langPasswordModerate = "Moderate";
                            }
                            if (
                              typeof window.langPasswordStrong === "undefined"
                            ) {
                              window.langPasswordStrong = "Strong";
                            }
                            if (typeof window.tooShort === "undefined") {
                              window.langPasswordTooShort =
                                "at least 5 characters";
                            }

                            var pwStrengthErrorThreshold = 0;
                            var pwStrengthWarningThreshold = 0;

                            var $newPassword1 = jQuery("#newPassword1");
                            var pw = jQuery("#inputNewPassword1").val();
                            var pwlength = pw.length;
                            if (pwlength > 4) {
                              if (pwlength > 5) pwlength = 5;
                              var numnumeric = pw.replace(/[0-9]/g, "");
                              var numeric = pw.length - numnumeric.length;
                              if (numeric > 3) numeric = 3;
                              var symbols = pw.replace(/\W/g, "");
                              var numsymbols = pw.length - symbols.length;
                              if (numsymbols > 3) numsymbols = 3;
                              var numupper = pw.replace(/[A-Z]/g, "");
                              var upper = pw.length - numupper.length;
                              if (upper > 3) upper = 3;
                              var pwstrength =
                                pwlength * 10 -
                                20 +
                                numeric * 10 +
                                numsymbols * 15 +
                                upper * 10;
                              if (pwstrength < 0) pwstrength = 0;
                              if (pwstrength > 100) pwstrength = 100;

                              $newPassword1.removeClass(
                                "has-error has-warning has-success"
                              );
                              jQuery("#passwordStrengthBar .progress-bar")
                                .removeClass(
                                  "progress-bar-danger progress-bar-warning progress-bar-success"
                                )
                                .css("width", pwstrength + "%")
                                .attr("aria-valuenow", pwstrength);

                              if (pwstrength < pwStrengthErrorThreshold) {
                                $newPassword1.addClass("has-error");
                                jQuery("#passwordStrengthTextLabel")
                                  .html(langPasswordWeak)
                                  .css("color", "#be0f1a");
                                jQuery(
                                  "#passwordStrengthBar .progress-bar"
                                ).addClass("progress-bar-danger");
                              } else if (
                                pwstrength < pwStrengthWarningThreshold
                              ) {
                                $newPassword1.addClass("has-warning");
                                jQuery("#passwordStrengthTextLabel")
                                  .html(langPasswordModerate)
                                  .css("color", "#c59301");
                                jQuery(
                                  "#passwordStrengthBar .progress-bar"
                                ).addClass("progress-bar-warning");
                              } else {
                                $newPassword1.addClass("has-success");
                                jQuery("#passwordStrengthTextLabel")
                                  .html(langPasswordStrong)
                                  .css("color", "#198810");
                                jQuery(
                                  "#passwordStrengthBar .progress-bar"
                                ).addClass("progress-bar-success");
                              }
                            } else {
                              jQuery("#passwordStrengthTextLabel").html(
                                langPasswordTooShort
                              );
                              jQuery("#passwordStrengthBar .progress-bar")
                                .removeClass(
                                  "progress-bar-danger progress-bar-warning progress-bar-success"
                                )
                                .removeAttr("style");
                            }
                            validatePassword2();
                          });

                          function validatePassword2() {
                            var password1 = jQuery("#inputNewPassword1").val();
                            var password2 = jQuery("#inputNewPassword2").val();
                            var $newPassword2 = jQuery("#newPassword2");

                            if (password2 && password1 !== password2) {
                              $newPassword2
                                .removeClass("has-success")
                                .addClass("has-error");
                              jQuery("#inputNewPassword2Msg").html(
                                '<p class="help-block" id="nonMatchingPasswordResult">The passwords entered do not match</p>'
                              );
                              jQuery('input[type="submit"]').attr(
                                "disabled",
                                "disabled"
                              );
                            } else {
                              if (password2) {
                                $newPassword2
                                  .removeClass("has-error")
                                  .addClass("has-success");
                                jQuery(
                                  '.main-content input[type="submit"]'
                                ).removeAttr("disabled");
                              } else {
                                $newPassword2.removeClass(
                                  "has-error has-success"
                                );
                              }
                              jQuery("#inputNewPassword2Msg").html("");
                            }
                          }

                          jQuery(document).ready(function () {
                            jQuery(
                              '.using-password-strength input[type="submit"]'
                            ).attr("disabled", "disabled");
                            jQuery("#inputNewPassword2").keyup(function () {
                              validatePassword2();
                            });
                          });
                        </script>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group has-feedback" id="newPassword2">
                        <label for="inputNewPassword2">
                          Xác nhận mật khẩu
                        </label>
                        <input
                          type="password"
                          name="password2"
                          id="inputNewPassword2"
                          class="form-control"
                          placeholder=""
                          autocomplete="off"
                        />
                        <div id="inputNewPassword2Msg"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-actions m-t-24">
                  <input
                    class="btn btn-lg btn-primary btn-block"
                    type="submit"
                    value="Đăng ký tài khoản"
                  />
                </div>
              </form>
            </div>
            <div class="logincontainer-footer">
              <div class="text-center text-light">
                Already registered with us?
                <a href="/login">Sign In</a>
                <span class="text-lowercase">Or</span>
                <a href="/password/reset">Reset Password</a>
              </div>
            </div>
          </div>
        </div>

        <div class="clearfix"></div>
      </div>
    </div>
  </div>

<%- include('lib/footer.ejs') %>
